import{r as f,n as r,a0 as se,a8 as re}from"./components-Ep370hT9.js";import{b as K,c as H,T as q,a as M,t as y,I as O,H as V,B as A,d as oe,n as D}from"./heading-DJdNTOqn.js";import{D as ae}from"./decoder-text-BKuAWDoF.js";import{D as ne}from"./divider-BMbd88Tc.js";import{b as ie,S as le,F as ce}from"./meta-SKfl2jaX.js";import"./visually-hidden-CZ75wm05.js";import"./use-spring-BE8CLnYq.js";import"./config-AjS9vFOl.js";function $(e=""){const[t,s]=f.useState(e),[a,n]=f.useState(),[i,u]=f.useState(!1);return{value:t,error:a,onChange:o=>{s(o.target.value),u(!0),a&&o.target.checkValidity()&&n(null)},onBlur:o=>{i&&o.target.checkValidity()},onInvalid:o=>{o.preventDefault(),n(o.target.validationMessage)}}}class w{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const ue=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},d={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ue()},R=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},me=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=R(e);d.publicKey=s.publicKey,d.blockHeadless=s.blockHeadless,d.storageProvider=s.storageProvider,d.blockList=s.blockList,d.limitRate=s.limitRate,d.origin=s.origin||t},X=async(e,t,s={})=>{const a=await fetch(d.origin+e,{method:"POST",headers:s,body:t}),n=await a.text(),i=new w(a.status,n);if(a.ok)return i;throw i},z=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},de=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},G=e=>e.webdriver||!e.languages||e.languages.length===0,J=()=>new w(451,"Unavailable For Headless Browser"),ge=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},he=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},fe=(e,t)=>e instanceof FormData?e.get(t):e[t],U=(e,t)=>{if(he(e))return!1;ge(e.list,e.watchVariable);const s=fe(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},W=()=>new w(403,"Forbidden"),pe=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},be=async(e,t,s)=>{const a=Number(await s.get(e)||0);return t-Date.now()+a},Y=async(e,t,s)=>{if(!t.throttle||!s)return!1;pe(t.throttle,t.id);const a=t.id||e;return await be(a,t.throttle,s)>0?!0:(await s.set(a,Date.now().toString()),!1)},Q=()=>new w(429,"Too Many Requests"),_e=async(e,t,s,a)=>{const n=R(a),i=n.publicKey||d.publicKey,u=n.blockHeadless||d.blockHeadless,p=n.storageProvider||d.storageProvider,h={...d.blockList,...n.blockList},_={...d.limitRate,...n.limitRate};return u&&G(navigator)?Promise.reject(J()):(z(i,e,t),de(s),s&&U(h,s)?Promise.reject(W()):await Y(location.pathname,_,p)?Promise.reject(Q()):X("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},ye=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},xe=e=>typeof e=="string"?document.querySelector(e):e,ve=async(e,t,s,a)=>{const n=R(a),i=n.publicKey||d.publicKey,u=n.blockHeadless||d.blockHeadless,p=d.storageProvider||n.storageProvider,h={...d.blockList,...n.blockList},_={...d.limitRate,...n.limitRate};if(u&&G(navigator))return Promise.reject(J());const o=xe(s);z(i,e,t),ye(o);const c=new FormData(o);return U(h,c)?Promise.reject(W()):await Y(location.pathname,_,p)?Promise.reject(Q()):(c.append("lib_version","4.4.1"),c.append("service_id",e),c.append("template_id",t),c.append("user_id",i),X("/api/v1.0/email/send-form",c))},je={init:me,send:_e,sendForm:ve,EmailJSResponseStatus:w},ke="_textarea_1ly3z_2",Te="_noise_1ly3z_1",we={textarea:ke,noise:Te},Se=({className:e,resize:t="none",value:s,onChange:a,minRows:n=1,maxRows:i,...u})=>{const[p,h]=f.useState(n),[_,o]=f.useState(),c=f.useRef();f.useEffect(()=>{const l=getComputedStyle(c.current),b=parseInt(l.lineHeight,10),g=parseInt(l.paddingTop,10)+parseInt(l.paddingBottom,10);o({lineHeight:b,paddingHeight:g})},[]);const x=l=>{a(l);const{lineHeight:b,paddingHeight:g}=_,v=l.target.rows;l.target.rows=n;const j=~~((l.target.scrollHeight-g)/b);j===v&&(l.target.rows=j),i&&j>=i&&(l.target.rows=i,l.target.scrollTop=l.target.scrollHeight),h(i&&j>i?i:j)};return r.jsx("textarea",{className:K(we.textarea,e),ref:c,onChange:x,style:H({resize:t}),rows:p,value:s,...u})},Ee="_container_1ukhq_2",Ne="_content_1ukhq_16",qe="_input_1ukhq_21",Me="_root_1ukhq_1",He="_underline_1ukhq_55",Le="_label_1ukhq_73",Pe="_error_1ukhq_95",Re="_errorMessage_1ukhq_111",Ie="_noise_1ukhq_1",k={container:Ee,content:Ne,input:qe,root:Me,underline:He,label:Le,error:Pe,errorMessage:Re,noise:Ie},L=({id:e,label:t,value:s,multiline:a,className:n,style:i,error:u,onBlur:p,autoComplete:h,required:_,maxLength:o,type:c,onChange:x,name:l,...b})=>{const[g,v]=f.useState(!1),j=f.useId(),I=f.useRef(),S=e||`${j}input`,B=`${S}-label`,F=`${S}-error`,Z=a?Se:"input",ee=E=>{v(!1),p&&p(E)};return r.jsxs("div",{className:K(k.container,n),"data-error":!!u,style:i,...b,children:[r.jsxs("div",{className:k.content,children:[r.jsx("label",{className:k.label,"data-focused":g,"data-filled":!!s,id:B,htmlFor:S,children:t}),r.jsx(Z,{className:k.input,id:S,"aria-labelledby":B,"aria-describedby":u?F:void 0,onFocus:()=>v(!0),onBlur:ee,value:s,onChange:x,autoComplete:h,required:_,maxLength:o,type:c,name:l}),r.jsx("div",{className:k.underline,"data-focused":g})]}),r.jsx(q,{unmount:!0,in:u,timeout:M(y.base.durationM),children:({visible:E,nodeRef:te})=>{var C;return r.jsx("div",{ref:te,className:k.error,"data-visible":E,id:F,role:"alert",style:H({height:E?(C=I.current)==null?void 0:C.getBoundingClientRect().height:0}),children:r.jsxs("div",{className:k.errorMessage,ref:I,children:[r.jsx(O,{icon:"error"}),u]})})}})]})},Be="_contact_xvg9q_1",Fe="_form_xvg9q_18",Ce="_title_xvg9q_30",Ve="_divider_xvg9q_60",Ae="_input_xvg9q_98",De="_botkiller_xvg9q_140",$e="_button_xvg9q_144",Ke="_complete_xvg9q_204",Oe="_completeTitle_xvg9q_215",Xe="_completeText_xvg9q_234",ze="_completeButton_xvg9q_253",Ge="_formError_xvg9q_279",Je="_formErrorContent_xvg9q_291",Ue="_formErrorMessage_xvg9q_295",We="_formErrorIcon_xvg9q_303",Ye="_footer_xvg9q_308",Qe="_noise_xvg9q_1",m={contact:Be,form:Fe,title:Ce,divider:Ve,input:Ae,botkiller:De,button:$e,complete:Ke,completeTitle:Oe,completeText:Xe,completeButton:ze,formError:Ge,formErrorContent:Je,formErrorMessage:Ue,formErrorIcon:We,footer:Ye,noise:Qe},lt=()=>ie({title:"Contact",description:"Send me a message if you’re interested in discussing a project or if you just want to say hi"}),N=512,P=4096,Ze=/(.+)@(.+){2,}\.(.+){2,}/,ct=()=>{const[e,t]=f.useState({success:!1,errors:null}),s=f.useRef(),a=f.useRef(null),n=$(""),i=$(""),u=y.base.durationS,{state:p}=se(),h=p==="submitting",_=o=>{o.preventDefault();const c=new FormData(o.target),x=String(c.get("from_name")),l=String(c.get("from_email")),b=String(c.get("message")),g={};if(x)return t({success:!0,errors:null});if((!l||!Ze.test(l))&&(g.email="Please enter a valid email address."),b||(g.message="Please enter a message."),l.length>N&&(g.email=`Email address must be shorter than ${N} characters.`),b.length>P&&(g.message=`Message must be shorter than ${P} characters.`),Object.keys(g).length>0)return t({success:!1,errors:g});je.sendForm("service_v3vx65p","template_6xw4bxg",a.current,{publicKey:"tlTt0aLqyEbi44Ml5"}).then(()=>{t({success:!0,errors:null})},v=>{t({success:!1,errors:{message:"There was an error sending your message. Please try again later or email me directly at iammursal@gmail.com"}})})};return r.jsxs(le,{className:m.contact,children:[r.jsx(q,{unmount:!0,in:!(e!=null&&e.success),timeout:1600,nodeRef:a,children:({status:o,nodeRef:c})=>r.jsxs(re,{onSubmit:_,unstable_viewTransition:!0,className:m.form,method:"post",ref:c,children:[r.jsx(V,{className:m.title,"data-status":o,level:3,as:"h1",style:T(y.base.durationXS,u,.3),children:r.jsx(ae,{text:"Say hello",start:o!=="exited",delay:300})}),r.jsx(ne,{className:m.divider,"data-status":o,style:T(y.base.durationXS,u,.4)}),r.jsx(L,{className:m.botkiller,label:"Name",name:"from_name",maxLength:N}),r.jsx(L,{required:!0,className:m.input,"data-status":o,style:T(y.base.durationXS,u),autoComplete:"email",label:"Your email",type:"email",name:"from_email",maxLength:N,...n}),r.jsx(L,{required:!0,multiline:!0,className:m.input,"data-status":o,style:T(y.base.durationS,u),autoComplete:"off",label:"Message",name:"message",maxLength:P,...i}),r.jsx(q,{unmount:!0,in:!h&&(e==null?void 0:e.errors),timeout:M(y.base.durationM),children:({status:x,nodeRef:l})=>{var b,g,v;return r.jsx("div",{className:m.formError,ref:l,"data-status":x,style:H({height:x?(b=s.current)==null?void 0:b.offsetHeight:0}),children:r.jsx("div",{className:m.formErrorContent,ref:s,children:r.jsxs("div",{className:m.formErrorMessage,children:[r.jsx(O,{className:m.formErrorIcon,icon:"error"}),(g=e==null?void 0:e.errors)==null?void 0:g.email,(v=e==null?void 0:e.errors)==null?void 0:v.message]})})})}}),r.jsx(A,{className:m.button,"data-status":o,"data-sending":h,style:T(y.base.durationM,u),disabled:h,loading:h,loadingText:"Sending...",icon:"send",type:"submit",children:"Send message"})]})}),r.jsx(q,{unmount:!0,in:e==null?void 0:e.success,children:({status:o,nodeRef:c})=>r.jsxs("div",{className:m.complete,"aria-live":"polite",ref:c,children:[r.jsx(V,{level:3,as:"h3",className:m.completeTitle,"data-status":o,children:"Message Sent"}),r.jsx(oe,{size:"l",as:"p",className:m.completeText,"data-status":o,style:T(y.base.durationXS),children:"I’ll get back to you within a couple days, sit tight"}),r.jsx(A,{secondary:!0,iconHoverShift:!0,className:m.completeButton,"data-status":o,style:T(y.base.durationM),href:"/",icon:"chevron-right",children:"Back to homepage"})]})}),r.jsx(ce,{className:m.footer})]})};function T(e,t=D(0),s=1){const a=M(e)*s;return H({delay:D((M(t)+a).toFixed(0))})}export{ct as default,lt as meta};
